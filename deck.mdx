import Code from './Code.jsx';
import { highlight } from '@mdx-deck/themes'
import { prism } from '@mdx-deck/themes'


# UI Testing 🧪

By John Brennan 👨🏼‍💻

---

### What are we talking about? 🤷🏼‍♂️

The journey so far

How to test: strategies!

---

## Whats the point? 🤔

We 👏 need 👏 confidence 👏

---

### What do I actually test? 🤯

Where the business value is!

---

## The journey so far 🚲

---

#### We use [Jest](https://jestjs.io/) 🃏

_One stop shop framework_

Implements a DOM to use for testing

Amazing well documented API

---

#### [`@vue/test-utils`](https://vue-test-utils.vuejs.org/) is used in MIS

It works... but _I think_ it is a bit clunky.

---

### What were the issues in testing so far 🐛

- Where snapshot tests fit in

- Testing implementation details

- Needing to mock too much

- Tests are verbose

- Tests take ages to run

---

## How to test :muscle:

---

### Enter [`@testing-library/vue`](https://testing-library.com/) 💃

---

#### Making tests resilient to change 💅🏻

---

#### Sample `<vs-input />` component

<Code>
{`
  <template>
    <div class="fancyInput">
      <label :for="id" v-if="$slots.default"><slot /></label>
      <input
        :id="id"
        v-bind="$attrs"
        v-on:input="$emit('input', $event.target.value)"
      />
    </div>
  </template>
`}
</Code>

---

### Why and how do I test this? 🤔

---

### Selectors for the job 👨‍🔧

<div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>
  <div style={{ marginBottom: 50 }}>
    ❌
    <Code inline>{`.myFancyInputStyles / .johnsButton`}</Code>
  </div>


  <div>
    ✅
    <Code inline>{`[data-testid="username"]`}</Code>
    <Code inline>{`[aria-label="username"]`}</Code>
    <Code inline>{`/username/i (Label/placeholder)`}</Code>
  </div>
</div>

(Examples in repo!)